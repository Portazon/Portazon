input {
  file {
    path => "/Users/vpereira1982/HackReactor/Portazon/server/data/product_list.csv"
    start_position => "beginning"
    sincedb_path => "/dev/null"
    ignore_older => 0
  }
}

filter {
  csv {
    separator => ","
    columns => ["uniq_id","sku","name_title","description","list_price","sale_price","category","category_tree","average_product_rating","product_url","product_image_urls","brand","total_number_reviews","Reviews"]
  }
  mutate { convert => ["list_price", "float"] }
  mutate { convert => ["sale_price", "float"] }
  mutate { convert => ["total_number_reviews", "float"] }


}

output {
  elasticsearch {
    hosts => "localhost"
    index => "products"
    document_type => "inventory"
  }
  stdout {}
}
